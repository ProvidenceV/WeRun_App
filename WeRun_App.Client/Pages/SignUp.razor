@page "/signup"
@using WeRun_App.Client.Models
@using WeRun_App.Client.Services
@inject UserService UserService
@inject NavigationManager NavigationManager
@* @inject IDContextFactory<AppDBContext> DbContextFactory *@


<PageTitle>Sign Up</PageTitle>

<h1>Sign Up</h1>

<div>
   
</div>


@code {
   
    
    private User user = new User();

    private async Task Register()
    {
        if (user.IsValid()) // Assuming you have a validation method
        {
            await UserService.RegisterUser(user); // Hypothetical async service call
            NavigationManager.NavigateTo("/successpage"); // Redirect on success
        }
        else
        {
            // Handle validation failure
            Console.WriteLine("Validation failed");
        }
    }
    //  private User user = new User();

    // private async Task Register()
    // {
    //     using var context = DbContextFactory.CreateDbContext();

    //     context.Users.Add(user);
    //     await context.SaveChangesAsync();
        // Redirect to login
        // NavigationManager.NavigateTo("/login");
    }
}